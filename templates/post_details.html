<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>post_details</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style type="text/css">
        .card {
        margin-left:3%;
        }
        .comments {
        margin-left:3%;
        margin-bottom:2%;
        }
        p {
        text-indent:20px;
        }
        .btn {
            margin:2%;
        }s

    </style>
</head>
<body>
<a class="btn btn-primary" href="{% url 'posts' %}" role="button">back</a>
<div class="card" style="width: 100%;">
    <div class="card-body">
        <br>
        <h5 class="card-title">{{post.title}}</h5>
        <p class="card-text">{{post.text}}</p>
    </div>
    <div class="comments">
        <hr>
        <div>Comments</div>
        <br>
        {% for comment in comments %}
        <div class="comment">
            <div class="info">
                Comment by {{ comment.author }}
            </div>
            <p>
                {{ comment.text|linebreaks }}
            </p>
        </div>
        {% endfor %}
        <hr>
        <h5>Add a new comment</h5>
        <form action="{% url 'post_details_url' slug=post.slug %}" method="post">
            {% csrf_token %}
            {% for field in comment_form %}
                <div class="from-group">
                  {%if field.errors %}
                    <div class="alert alert-danger">
                        {{field.errors}}
                    </div>
                  {% endif %}
                  {{field.label}}
                    <br>
                  {{field}}
                </div>
            {% endfor %}
            <br>
            <button type="submit" class="btn btn-primary">add comment</button>
        </form>
    </div>
</div>
</body>
</html>